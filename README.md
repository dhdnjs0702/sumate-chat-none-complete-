2024 /08 /18
우선 완전히 적용이 다 된건 아니지만 userchat(강의 보고 만든 채팅 페이지)의 채팅 기능을 sumate로 이식은 성공했습니다.
일단 프로젝트 폴더 구조가 조금 변경 됬습니다. 서블릿 url을 어떻게 해야할지 잘 모르겠어서 그냥 jsp디렉토리 없애고 webapp폴더 밑에 모든 파일이 존재하게 수정했습니다.(채팅 기능 이식하기에는 이게 젤 편할거 같았습니다.)
chat.jsp로 접속을해서 url에 ?toID=test이런식으로 해서 접속을 하시면 채팅 페이지 나오는데 여기서 이제 원래 userchat실행했던거 처럼 정상 실행 됩니다. db부분도 확인했습니다.
되게 오랜기간 동안 삽질을 한거 치고는 엄청 사소한 오류때문에 해결이 되었습니다. 어이 없게도 dao의 데이터 소스를 고치지 않았더라구요 하하
채팅 관련 추가작업은 아래와 같을거 같습니다.
- 채팅 방 ui 변경
- 풀링 방식에 대해서 저도 대충 봤는데 제가 이해한게 맞는지 모르겠어서 일단 코멘트만 남깁니다. 우성님 getInfinite함수나 ajax부분 한번 더 확인 해주세용 timeout부분 한번 원하시는데로 수정해보시고 저한테 결과 알려주시면 감사하겠습니다.
- 그 외 추가사항은 나중에 함께 얘기해보거나 채팅방에 의견 올려주세요
2024/08/ 18 9:33
userchat프로젝트의 기능 su-mate에 전부 적용됬습니다
ui변경 진행 후에 다시 업로드 하겠습니다

2024 /08/ 19
- 자잘한 추가 사항이 있습니다. 계속 이런저런 방향으로 실행을 하면서 세션유지가 안되어있는 부분에 코드를 추가하고 있습니다.
- 아이디로 유저의 정보를 표시하는게 아닌 닉네임으로 표시를하는것이 가장 좋을듯 합니다.-> 현재 box.jsp에 적용 중입니다.

2024 /08 /20
- 일단 두사타 페이지는 처음에 의도했던 기능은 전부 정상작동하게되었습니다.
- 채팅 페이지도 안읽은 메세지 개수를 보여주는 부분 빼고는 전부 처리 되었습니다.
- 추후에 수정되는 부분들이 있으면 수정이된 파일명을 여기에 표시하겠습니다.
- 채팅방에 삭제기능을 추가했습니다 -> 미완성이긴하지만 이 부부은 수정 못하면 그냥 제출하는 수 밖에 없을거 같습니다.
- 채팅방의 삭제기능은 현재 채팅방의 삭제보단 채팅방을 숨기는 느낌입니다. 채팅방을 삭제해도 그 유저와의 채팅에 다시 접속을 하게 되면 그 유저와의 이전 대화 내용이 다시 불러와집니다.
- userdao,register.jsp, signup.jsp에 닉네임 중복을 확인하는 로직이 추가됬습니다.
- box.jsp은 ajax로 떡칠이 되있는 느낌인데 문제점이 한개 발견되었습니다. 타임아웃을 3초로 해서 계속해서 서버에 새로운 채팅 목록을 요청을 하는 부분이 있습니다-> 이 부분 때문에 원래 최상단에는 가장 최근에 한 채팅이 있는게 정상이지만 채팅 목록이 3초마다 업데이트 되면서
  채팅방의 위치가 계속 변경이 되고 있습니다.->아직 해결방법을 찾지 못했습니다.
- 현재까지 완료된 부분은 위에서 말한 자잘한 오류?들을 제외하고는 전부 정상작동합니다. 개발자도구에 들어가면 에러 메시지가 콘솔에 나온긴하는데 대부분 제가 과거에 만든 코드가 현재는 사용되지 않아서 생기는 오류입니다. 가볍게 무시하셔도 됩니다,

2024 /08/ 21 
- 성능 문제 때문에 채팅 목록을 유저로 하여금 수동으로 업데이트 하기를 추가했습니다.
- 각 채팅방 별로 유저가 읽지 않은 메시지의 갯수를 표시하는 부분이 추가되었습니다.
  
